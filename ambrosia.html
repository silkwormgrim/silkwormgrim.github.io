<!------------------------
 created 00/00/0000 :: 00:00
 revised 00/00/0000 :: 00:00
------------------------->
<!doctype html>
<html lang="en">
<!----------------------->
<head>
	<title>Ambrosia</title>
		<meta name="description" content="ambrosia">
		<meta name="author" content="Absinthe Interactive Software">
		<meta charset="UTF-8">
		<link rel="stylesheet" href="style_sheet.css">
		<link rel="icon" type="image/png" href="html/image/favicon.png">
</head>
<!----------------------->
<body>
<div class="text_box" id="main_header">
	<div class="text_box" style="border-left: none; border-right: none; border-top: none;">
		<p>
		<script type="text/javascript">
			var music = "a_moment_of_relief";
			document.write(music);
		</script>
		</p>
	</div>

	<div class="text_box" style="border-left: none; border-right: none; border-top: none;">
		<audio id="audio_player" controls loop preload="metadata" style="width:100%">
			<source src="file/audio/a_moment_of_relief.ogg" type="audio/ogg"></source>
			<p>Your browser does not support the audio element.</p>
		</audio>
<!--
		<div id="audio_player_play" onclick="audio_player.play();"></div>
		<div id="audio_player_pause" onclick="audio_player.pause();"></div>

		<div id="progress">
			<div id="progress_bar"></div>
		</div>
	
		<script src="music_player.js"></script>
-->
	</div>
	<script src="navigator.js"></script>
</div>
</div><div id="main_center_left">
	<ul>
	<li><a href="#00">makefile.bat</a></li>
	<li><a href="#01">init.lua</a></li>
	</ul>
</div>

<div class="text_box" id="main_center_right">
	<a name="00">
		<h1>MAKE FILE</h1>
	</a>

	<pre><p id="code">
::─────────────────────────────────
:: ◊ MAKE FILE
::─────────────────────────────────
:: ...
::─────────────────────────────────
@echo off
set directory=%~dp0
set directory=%directory%init.lua
::echo %directory%
call lua.exe %directory% %~dp0 1
pause
::───────────────────
:: ◊ NOTES
::───────────────────
:: echo %1 %2 %3
::───────────────────
	</p></pre>

	<p id="output">
		...
	</p>

	<a name="01">
		<h1>init.lua</h1>
	</a>

	<pre><p id="code">
--[[───────────────────────────────
◊ MAIN FUNCTION
───────────────────────────────────
◊ PROGRAM INFORMATION
	» initial minetest prototype
	» author [dom] silkwormgrim
◊ VERSION HISTORY
	» version 2.000 [8/16/2022]
	» version 1.000 [03/31/2022]
◊ COMPILE INSTRUCTIONS
	» $(CURRENT_DIRECTORY)\makefile.bat
───────────────────────────────────]]
local path = nil;
debug_mode = nil;
global_meta = nil;

if arg == nil then
	print("debug_mode_disabled: minetest");
	debug_mode = 0;
else
	debug_mode = tonumber(arg[2]);
end

if debug_mode == 1 then
	print("debug_mode_enabled: lua_standalone");
	path = arg[1];
else
	debug_mode = 0;
	path = minetest.get_modpath("base") .. "/";
	global_meta = minetest.get_mod_storage();
end

dofile(path.."earth.lua");
dofile(path.."mts_save.lua");
dofile(path.."time.lua");
dofile(path.."item.lua");
dofile(path.."playercharacter.lua");

--[[─────────────────
◊ NOTES
─────────────────────
local newarray = {
	{"0","0"},
};

--print_table(newarray);

local newarray2 = {1,2,3};

--print_array(newarray2);

local newarray3 = {
	nested1 = {4,5,6},
	nested2 = {7,8,9}
};

--print_array(newarray3.nested1);
--print_array(newarray3.nested2);

local items = {
	tool = {
		"sword","axe","shovel","pickaxe",
		"lantern","mirror","compass"
	},
	tool_detail = {
		{"sword"	,0,0,0,"sword.png"},
		{"axe"		,0,0,0,"axe.png"},
		{"shovel"	,0,0,0,"shovel.png"},
		{"pickaxe"	,0,0,0,"pickaxe.png"},
		{"lantern"	,0,0,0,"lantern.png"},
		{"mirror"	,0,0,0,"mirror.png"},
		{"compass"	,0,0,0,"compass.png"}
	},
	food = {
		"grain","fruit","vegetable","poultry",
		"beef","venison","pork","mutton","seafood"
	},
	food_detail = {
		{"grain","bread"	,0,0,0,0},
		{"grain","pie"		,0,0,0,0},
		{"grain","pizza_pie",0,0,0,0},
		{"grain","pasta"	,0,0,0,0}
	};
	vessel = {
		"bucket","pot","basket","barrel","jar",
	},
	vessel_detail = {
		{"bucket"	,640	,"steel",false,true},
		{"pot"		,32*3	,"ceramic",false,true},
		{"basket"	,0		,"fiber",false,false},
		{"barrel"	,5376	,"timber",true,true},
		{"jar"		,64		,"glass",true,true},
	},
	material = {
		"fiber","stone","timber"
	};
	material_detail = {
		{"fiber","linen"},
		{"fiber","wool"},
		{"stone","granite"},
		{"stone","basalt"},
		{"timber","wood"},
		{"timber","hardwood"}
	};
};

print_array(items.tool,"tool");
--print_table(items.tool_detail,"tool_detail");
print_array(items.food,"food");
--print_table(items.food_detail,"food_detail");
print_array(items.vessel,"vessel");
--print_table(items.vessel_detail,"vessel_detail");
print_array(items.material,"material");
print_table(items.material_detail,"material_detail");

local playercharacter = {
	attributes = {
		"vitality","mana","stamina",
		"physical_attack_power","magical_attack_power",
		"physical_attack_defense","magical_attack_defense"
	},
	attributes_detail = {
		{"vitality","life energy"},
		{"mana","magical energy"},
		{"stamina","physical energy"},
		{"p_attack_power","attack_power"},
		{"m_attack_power","magical_power"},
		{"p_attack_armor","armor"},
		{"m_attack_armor","magic_resistance"},

	},
	status = {
		"normal","regenerate","hunger","thirst",
		"poison","overheat","freeze","asphyxiate"
	},
	status_detail = {
		{"normal","normal_condition"},
		{"regenerate","regenerating_vitality"},
		{"hunger","stamina_is_empty"},
		{"thirst","thirst_is_empty"},
		{"poison","afflicted_by_venom_or_illness"},
		{"overheat","over_exposure_to_hot_weather"},
		{"freeze","over_exposure_to_cold_weather"},
		{"asphyxiate","lack_of_breathable_air_available"},
	},
};

print_array(playercharacter.attributes,"attributes");
print_table(playercharacter.attributes_detail,"attributes_detail");
print_array(playercharacter.status,"status");
print_table(playercharacter.status_detail,"status_detail");


--os.execute("pause");

for i = 1, #global_stone do
	local item_type,item_name = unpack(global_stone[i]);
	if item_type == "igneous" then
		print(item_type,item_name);
	end
end

local materials = {
	fiber = {"linen","wool"},
	stone = {"granite","basalt"},
	timber = {"wood","hardwood"},
};

print_array(materials.fiber,"fiber");
print_array(materials.stone,"stone");
print_array(materials.timber,"timber");
─────────────────────]]
	</p></pre>

	<pre><p id="output">
local year = os.date("%Y");

print(os.date());
print("hello world")

local file;

file = io.open(path.."temp3.txt", "r");
local text = file:read("*a");
--local text = file:read(1);
io.close(file);
print(text);

file = io.open(path.."temp3.txt", "a+");
file:write("testing......\n");
io.close(file);
	</p></pre>


</div>


<div class="text_box" id="main_footer">
	<script src="footer.js"></script>
</div>
</body>
</html>